:root {
  --bg: #0b0f10;
  --text: #e8f1f2;
  --muted: #9aa8ac;
  --surface: #111518;
  --surface-2: #0e1316;
  --ring: #263036;
  --accent: #66e4a6;
  --primary: #73ffbf;
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
  --topbar-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0));
  --coderain-opacity: 0.0; /* off by default */
  --coderain-color: #39ff14;
}

/* THEME: Matrix */
body[data-theme="matrix"] {
  --bg: #030a07;
  --text: #d9ffe8;
  --muted: #7dd9a6;
  --surface: #04120c;
  --surface-2: #051810;
  --ring: #0d2a1b;
  --accent: #3eff9d;
  --primary: #39ff14;
  --shadow: 0 12px 34px rgba(16, 255, 128, 0.08), 0 2px 10px rgba(0,0,0,0.55);
  --topbar-bg: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(20,255,120,0.06) 100%);
  --coderain-opacity: 0.16;
  --coderain-color: #39ff14;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* THEME: Dark */
body[data-theme="dark"] {
  --bg: #0e1014;
  --text: #e9ecf1;
  --muted: #9aa3af;
  --surface: #141820;
  --surface-2: #10141b;
  --ring: #242b36;
  --accent: #7bc5ff; /* cyan/blue accent */
  --primary: #b492ff; /* violet primary */
  --shadow: 0 12px 34px rgba(22, 26, 33, 0.6);
  --topbar-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0));
  --coderain-opacity: 0.0;
}

/* THEME: Aurora (polished) */
body[data-theme="aurora"] {
  --bg: #0b0f10;
  --text: #edf7f6;
  --muted: #a5b7b9;
  --surface: color-mix(in oklab, #10161a 94%, #9bf0e1);
  --surface-2: color-mix(in oklab, #0d1317 93%, #c9a1ff);
  --ring: color-mix(in oklab, #22323a 80%, #9bf0e1);
  --accent: #9bf0e1; /* teal */
  --primary: #c9a1ff; /* soft purple */
  --shadow: 0 20px 40px rgba(155, 240, 225, 0.08), 0 8px 24px rgba(0,0,0,0.45);
  --topbar-bg: linear-gradient(180deg, rgba(155, 240, 225, 0.08), rgba(201, 161, 255, 0.06));
  --coderain-opacity: 0.0;
}

/* High contrast focus ring for accessibility */
:root {
  --focus-ring: 0 0 0 3px color-mix(in oklab, var(--accent) 55%, #fff);
}
*:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
  border-color: color-mix(in oklab, var(--accent) 60%, var(--ring));
}

/* Scrollbar colors */
* {
  scrollbar-color: color-mix(in oklab, var(--accent) 35%, #000) var(--surface);
}
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--accent) 35%, #000);
  border-radius: 12px;
}
::-webkit-scrollbar-track { background: var(--surface); }

/* Selection */
::selection {
  background: color-mix(in oklab, var(--primary) 40%, #000);
  color: #06110a;
}

/* THEME: Light (non-white background) */
body[data-theme="light"] {
  --bg: #f5f7fb;
  --text: #0b1220;
  --muted: #5b6472;
  --surface: #ffffff;
  --surface-2: #eef2f6;
  --ring: #d6dee6;
  --accent: #0ea5e9; /* sky */
  --primary: #60a5fa; /* light blue for readable dark text on buttons */
  --shadow: 0 12px 34px rgba(2, 6, 23, 0.06);
  --topbar-bg: linear-gradient(180deg, rgba(0,0,0,0), rgba(2,6,23,0.04));
  --coderain-opacity: 0.0;
}

/* THEME: Bright White */
body[data-theme="bright-white"] {
  --bg: #ffffff;
  --text: #0a0a0a;
  --muted: #6b7280;
  --surface: #ffffff;
  --surface-2: #f8fafc;
  --ring: #e5e7eb;
  --accent: #2563eb; /* blue */
  --primary: #ffd400; /* bright yellow for strong contrast with dark text */
  --shadow: 0 12px 34px rgba(0, 0, 0, 0.06);
  --topbar-bg: linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0));
  --coderain-opacity: 0.0;
}

/* THEME: Nyan Cat */
body[data-theme="nyan-cat"] {
  --bg: #0b0d18;       /* deep space */
  --text: #ecebff;
  --muted: #9ca3c7;
  --surface: #0f1224;
  --surface-2: #0c0f1e;
  --ring: #1f2547;
  --accent: #ff7ad9;   /* neon pink */
  --primary: #ffd400;  /* star yellow */
  --shadow: 0 12px 34px rgba(255, 122, 217, 0.08), 0 2px 10px rgba(0,0,0,0.55);
  --topbar-bg: linear-gradient(180deg, rgba(255,122,217,0.06), rgba(0,0,0,0));
  --coderain-opacity: 0.0; /* canvas animation handles visuals */
}

/* THEME: Rainbow */
body[data-theme="rainbow"] {
  /* Pride-inspired full-spectrum background with readability overlay */
  --bg:
    linear-gradient(180deg, rgba(0,0,0,0.32), rgba(0,0,0,0.32)),
    linear-gradient(120deg,
      #e40303 0%,    /* red */
      #ff8c00 16.66%,
      #ffed00 33.33%,
      #008026 50%,
      #24408e 66.66%,
      #732982 83.33%,
      #e40303 100%
    );
  --text: #f9fbff;
  --muted: #c9d2e0;
  --surface: #101323;
  --surface-2: #0c1020;
  --ring: #2a3352;
  --accent: #ff2d55;   /* magenta/pink accent */
  --primary: #ffd400;  /* bright yellow for strong contrast with dark text */
  --shadow: 0 18px 42px rgba(0, 0, 0, 0.50);
  --topbar-bg: linear-gradient(90deg,
    rgba(228,3,3,0.28) 0%,
    rgba(255,140,0,0.28) 20%,
    rgba(255,237,0,0.28) 40%,
    rgba(0,128,38,0.28) 60%,
    rgba(36,64,142,0.28) 80%,
    rgba(115,41,130,0.28) 100%
  );
  --coderain-opacity: 0.0;
}